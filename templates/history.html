{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <h2>Transaction History</h2>
    <h4>Here you can see all your transactions.</h4>
    <h6>Note that this is just your transactions, not all of the blockchain.</h6>
        <table class="table table-dark table-striped table-sm table-bordered table-history">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Reciever</th>
                    <th>Sender</th>
                    <th>Amount ($)</th>
                    <th>Timestamp (UTC)</th>
                    <th>Transaction ID</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for transaction in transactions %}
                <tr>
                    <td>{{transaction["id"]}}</td>
                    <td>{{transaction["reciever"]}}</td>
                    <td>{{transaction["sender"]}}</td>
                    <td>{{transaction["amount"]}}</td>
                    <td>{{transaction["timestamp"]}}</td>
                    <td>{{transaction["tx_id"]}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <button class="btn btn-secondary" onclick="table2Excel()">Export to XLS</button>
        
        <form id="deleteForm" action="/delete" method="post">
            <button type="button" class="btn btn-danger" onclick="resetBlockchain(form)">Reset Blockchain</button>
        </form>
        <h6 class="mt-3">Beaware! Resetting Blockchain will delete all data & blocks from all users. </h6>
      
{% endblock %}
